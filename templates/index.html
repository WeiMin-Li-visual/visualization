<!DOCTYPE html>
<html>
	<head>
	  <meta charset="utf-8">
	  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	  <title>社交网络可视化</title>
	  <link rel="stylesheet" href="../static/layui/css/layui.css">
	  <script type="text/javascript" src="../static/js/function.js"></script>
	  <style>
		  .layui-layout-right {
			  right: 150px;
		  }
	  </style>
	</head>
	<body class="layui-layout-body">
		<div class="layui-layout layui-layout-admin">
		  <div class="layui-header">
		    <div class="layui-logo"  style="font-size: 25px;line-height: 60px;">
		    	社交网络可视化
		    </div>
		    <!-- 头部区域（可配合layui已有的水平导航） -->
		    <ul class="layui-nav layui-layout-right">
		      <li class="layui-nav-item">
		        <a href="javascript:;">
		          <i class="layui-icon layui-icon-username" style="font-size: 30px;"></i>  用户
		        </a>
		        <dl class="layui-nav-child" id = "userdata">
		          <dd><a id="loginOut" style="cursor: pointer">退出</a></dd>
		        </dl>
		      </li>
		    </ul>
		  </div>

		  <div class="layui-side layui-bg-black">
		    <div class="layui-side-scroll">
		      <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
		      <ul class="layui-nav layui-nav-tree"  lay-filter="test">
		        <li class="layui-nav-item layui-nav-itemed">
		          <a class="" href="javascript:;">影响力最大化</a>
		          <dl class="layui-nav-child">
		            <dd><a onclick="skipto('basicIc1')" style="cursor:pointer">IC模型(1次)</a></dd>
		            <dd><a onclick="skipto('basicIc10')" style="cursor:pointer">IC模型(10次)</a></dd>
		            <dd><a onclick="skipto('basicLt10')" style="cursor:pointer">LT模型</a></dd>
		            <dd><a onclick="skipto('pageRank')" style="cursor:pointer">page_rank算法</a></dd>
		            <dd><a onclick="skipto('degree')" style="cursor:pointer">最大度算法</a></dd>
				    <dd><a onclick="skipto('input')" style="cursor:pointer">计算集合影响力</a></dd>
					<dd><a onclick="skipto('collectiveInfluenceComparison')" style="cursor:pointer">集合影响力对比</a></dd>
				  </dl>
		        </li>
		        <li class="layui-nav-item">
		          <a href="javascript:;">静态社区划分</a>
		          <dl class="layui-nav-child">
					<a href="javascript:;">基于核心节点的社区发现及演化</a>
					<dl class="layui-nav-child">
					  <dd><a onclick="skipto('communityECDR')" style="cursor:pointer">社区发现</a></dd>
					  <dd><a onclick="skipto('communityEvolutionECDR')" style="cursor:pointer">社区演化</a></dd>
					</dl>
                    <dd><a onclick="skipto('StaticMOACD')" style="cursor:pointer">基于多目标优化的社区发现</a></dd>
                    <dd><a onclick="skipto('dyanmicMOACD')" style="cursor:pointer">多目标优化动态社区演化</a></dd>
		          </dl>
				</li>
				<li class="layui-nav-item">
					<a onclick="skipto('communityEvolution')" style="cursor:pointer">动态社区划分</a>
				</li>
		      </ul>
		    </div>
		  </div>

		  <div class="layui-body" style=" overflow: hidden;">
		    <!-- 内容主体区域 -->
		    	<div id="init_title" style="position:absolute;left:25%;top:30%;font-size: 100px;">社交网络可视化</div>
		    	<iframe id="iframe_id" src="" style=" width: 100%; height:100%;"></iframe>
		  </div>

		  <div class="layui-footer">
		    <!-- 底部固定区域 -->
		    @SocialNetw.com
		  </div>
		</div>
		<script src="../static/layui/layui.js"></script>
		<script src="../static/js/jquery.js"></script>
		<script src="../static/js/jquery.cookie.js"></script>
		<script>
		(()=>{
			if($.cookie('user') == undefined)
				$(window).attr('location','/login');
			else {
				let user = $.cookie('user');
				$.ajax({
					type: "POST",
					url: "/fun",
					data: {
						"userName": user
					},
					success: function(data) {
						let $data = $('<dd><a style="cursor: pointer">用户名：'+data.user[0]+'</a></dd>'
									+ '<dd><a style="cursor: pointer">单位：'+ data.user[4] + '</a></dd>'
									+ '<dd><a style="cursor: pointer">邮箱：'+ data.user[3] + '</a></dd>' 
									+ '<dd><a style="cursor: pointer">联系电话：'+ data.user[2] + '</a></dd>')
						$('#userdata').prepend($data);
					},
					error: function() {
						console.log('error');
					}
				})
			}
		})()
		//JavaScript代码区域
		$('#loginOut').on('click', function() {
			$.cookie('user', ''); 
			$(window).attr('location','/login');
		})
		layui.use(['element'], function(){
		  var element = layui.element;

		});
		function skipto(target){
			var ifr = document.getElementById('iframe_id');
			if(document.getElementById('init_title')){
				var inf = document.getElementById('init_title');
				inf.remove();
			}
			ifr.src = 'http://127.0.0.1:5000/' + target;
		}
		</script>
	</body>
</html>
